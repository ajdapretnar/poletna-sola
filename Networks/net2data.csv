import networkx as nx
import sys
import os
import csv

fp = sys.argv[1]
gp = os.path.splitext(fp)[0] + ".data.csv"

G = nx.read_pajek(fp)

header = ["number", "label 0", "degree"]
writer = csv.DictWriter(open(gp, "w"), fieldnames=header, delimiter=",")
writer.writeheader()


glist = G.nodes(data=1)
for label, atts in sorted(glist, key=lambda t: int(t[1]["id"])):
    wrow = {
        "number": atts["id"],
        "label 0": label,
        "degree": len(G.neighbors(label))
    }
    writer.writerow(wrow)




